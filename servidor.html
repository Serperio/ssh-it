<!DOCTYPE html>
<html lang="es">
  <head>
    <title>Crea tu propio servidor!</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie-edge">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="css/simple-sidebar.css">
  </head>
<!-- **************************************************** CUERPO ************************************ -->

  <body>
    <section>
      <div class="container">
        <h1><a href="">SSH<span>-IT</span></a>
        <div class ="mini_texto">Interactive Terminal</div>
        </h1>
      </div>
      </section>
        <!--Top-->
    <div class="d-flex" id="wrapper">
      <!-- class= "toggled" barra cerrada -->
    <!-- Sidebar -->
      <div class="sticky-top" id="sidebar-wrapper">
        <div class="sticky-top">
          <div class="sidebar-heading text-center">Menú</div>
            <div class="list-group list-group-flush">

              <a href="#submenu1" data-toggle="collapse" aria-expanded="false" class="list-group-item list-group-item-action flex-column align-items-start">
                <div class="d-flex w-100 justify-content-start align-items-center">
                    <span class="fas fa-crow fa-fw mr-3"></span>
                    <!--"fas fa-baby" para ejercicios-->
                    <span class="menu-collapsed">Abrir Servidor</span>
                    <span class="submenu-icon ml-auto"></span>
                </div>
              </a>
            <!-- Submenu contenido -->
              <div id="submenu1" class="collapse sidebar-submenu">
                <a href="#linux" class="list-group-item list-group-item-action">
                  <span class="menu-collapsed">Instalar Linux</span>
                </a>
                <a href="#svr" class="list-group-item list-group-item-action">
                    <span class="menu-collapsed">Inst. cliente/servidor SSH</span>
                </a>
                <a href="#cnfig" class="list-group-item list-group-item-action">
                    <span class="menu-collapsed">Configurar SSH</span>
                </a>
              </div>

              <a href="#submenu2" data-toggle="collapse" aria-expanded="false" class="list-group-item list-group-item-action flex-column align-items-start">
                <div class="d-flex w-100 justify-content-start align-items-center">
                  <span class="fas fa-horse fa-fw mr-3"></span>
                  <!--"fas fa-user" para ejercicios-->
                  <span class="menu-collapsed">Configuración</span>
                  <span class="submenu-icon ml-auto"></span>
                </div>
              </a>
          <!-- Submenu contenido -->
              <div id='submenu2' class="collapse sidebar-submenu">
                <a href="#grep" class="list-group-item list-group-item-action">
                    <span class="menu-collapsed">Usuarios y grupos</span>
                </a>
                <a href="#sort" class="list-group-item list-group-item-action">
                    <span class="menu-collapsed">Permisos</span>
                </a>
              </div>


                <!-- <a href="#" class="list-group-item list-group-item-action bg-light">Events</a> -->
                
            </div>
        </div>
      </div>
        
      <div id="page-content-wrapper">
        <nav class="navbar navbar-expand-lg text-center sticky-top">
          <div class="container">
          <button class="btn btn-danger" id="menu-toggle">Atajos</button>
          <button class="navbar-toggler navbar-dark ml-auto" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
         <!--Casillas Barra de navegacion-->
            <ul class="navbar-nav mr-auto">
              <li class="nav-item active">
                <a href="index.html" class="nav-link">Inicio<span class="sr-only">(current)</span></a>
              </li>
              <li class="nav-item">
                <a href="Ejercicios/Ejercicios.html" class="nav-link">Ejercicios</a>
              </li>
              <li class="nav-item">
                <a href="Glosario.html" class="nav-link">Glosario</a>
              </li>
              <li class="nav-item">
                <a href="Acerca de.html" class="nav-link">Acerca de</a>
              </li>
            </ul>
            <ul class="navbar-nav ml-auto">
              <li class="nav-item active">
                <a href="#" class="btn btn-info text-white role="button">Crea tu propio servidor!</a>
              </li>
            </ul>
          </div>
        </div>
        </nav>
      
    <!--Contenido-->
    <br>
    <br>
        <div class="container" id="container1">
  <div class="alert alert-warning margen" align="justify">
    <br>
    <h3>Introducción</h3>
    <br>
    <p>En esta sección encontrarás como fue producido el servidor de la terminal interactiva SSH-IT, recomendados revisar este apartado luego 
      de completar los ejercicios de la terminal, ya que su finalización significará que tienes el conocimiento suficiente como para operar 
      y crear el servidor sin problemas.</p>
    <p>Gracias al protocolo <code>SSH (Security Shell)</code> serás capaz de utilizar herramientas útiles para el manejo de información como <code>git</code> 
      (herramienta de control de versiones), uso remoto, almacenar información en este mismo, etc. Con un poco de investigación, 
      adicionado a la base entregada en SSH-IT puedes descubrir un montón de utilidades con las que puedes trabajar.</p>
    <p>Cabe destacar que estos pasos no son únicos, puedes hacer el servidor SSH con Windows, por ejemplo, o bien con una versión distinta 
      de Linux a la que usaremos en este tutorial.</p>
    <p>Ante cualquier duda, problema o sugerencia, recuerden entrar a nuestro apartado de acerca de y dejarnos un correo.</p>
      <br>
  </div>
 <div class="col-sm-12 basico"> <!--style="background-color:lavenderblush;"> -->
  <br>
  <h2 class="text-center" id="linux"><strong>Abrir servidor</strong></h2>
  <br>
  <br>
  <div class="margen" align="justify">
  <h3 class="alert-warning">Instalar Linux</h3>
  <br>
  <p>Comencemos con la instalación de nuestro sistema operativo Linux, 
    en nuestro caso, utilizaremos Ubuntu para hacernos, aunque puede hacerse 
    con cualquier Sistema de Linux, nosotros enfocaremos la instalación a Ubuntu, porque 
    este es el sistema que utiliza el sistema operativo. También es puedes instalar 
    Linux junto con Windows en el mismo pc, así que no te preocupes si normalmente
    utilizas Windows .</p>
    <br>
    <button type="button" class="btn btn-primary btn-block"><a class="enlaces" href="https://ubuntu.com/download/desktop"  target="_blank">Descarga Ubuntu</a></button>
    <br>
    <p>Una vez descargado la imagen <code>ISO</code>, debemos grabar el archivo para usarlo como arranque de nuestro sistema operativo, podemos grabarlo en un disco o bien si 
      no tenemos lector de discos podemos crear un USB arrancable (En nuestro caso, utilizaremos Rufus para hacer el USB arrancable).</p>
    <br>
    <button type="button" class="btn btn-primary btn-block"><a class="enlaces" href="https://rufus.ie/"  target="_blank">Descarga Rufus</a></button>
    <br>
    <p>Una vez colocado, debemos debes “bootear” el pc desde tu USB/disco, para hacer esto, debes encender tu pc y presionar la tecla para acceder a la <code>BIOS</code> 
      que comúnmente es F1 p F2 (Esta tecla depende de la marca del computador, puedes revisar en su instructivo o rápidamente buscarlo por tu modelo de PC internet). 
      Una vez dentro debes localizar el apartado de “booteo” o arranque y modificarlo priorizando tu USB/disco como arranque principal.</p>
    <p>Si hiciste todos los pasos correcta deberías estar en el instalador de Ubuntu, sigue las instrucciones cuidadosamente, 
      elige todo normalmente hasta que llegues a los tipos de instalación</p>
    <p>Puedes borrar todo y dejar tu pc únicamente con Ubuntu o bien particionar tu disco para tener ambos sistemas operativos en tu disco duro.</p>
    <p>Si bien, eliges tener ambos sistemas operativos juntos, tendrás que generar una partición, según la versión de Ubuntu que elijas, puedes hacerla manual o la recomendada, 
      acá que explicamos como hacerla de forma manual: </p>
      <br>
      <ul>
        <li><p><kbd>SWAP (“Área de intercambio”)</kbd> : Es una memoria que utiliza la <code>RAM</code> en caso de necesitar espacio,
           debes colocar la <code><b>partición de tipo lógica, ubicarla al principio del espacio y utilizarla como sistema de área de intercambio,</b></code>
            se recomienda que tenga el valor del doble de la <code>RAM</code> que tiene el PC (por ejemplo, si se tiene una 1Gb hay que poner 2GB).</p></li>
        <li><p><kbd>Partición “raíz” (o partición “/”)</kbd> : Aquí se guarda el sistema operativo, debe colocarse de <b><code>tipo lógica, sistema de ficheros ext4 transaccional 
          y el punto de montaje como “/”</code></b>, se recomienda de 9Gb a 10Gb.</p></li>
        <li><p><kbd>Partición "/home"</kbd> : Aquí se guardarán todos los archivos que vayas a crear en tu SO Ubuntu, debe colocarse de <b><code>tipo lógica, sistema de 
          ficheros ext4 transaccional el punto de montaje como “/home”</code></b>, se recomiendan unos 25 Gb, pero esta depende mucho de los usos que pienses darle a tu 
          sistema Ubuntu, o bien, a tu servidor.</p></li>
      </ul>
      <br>
    <p>Una vez finalice la instalación, ya tenemos nuestro pc con Ubuntu completamente funcional. Si deseas volver a Windows, puede revisar el menú de “booteo” y poner en prioridad a Windows.</p>
    <br id="svr">
    <hr>
    <br>
    <br>
    <h3 class="alert-warning">Instalar el cliente SSH y su servidor</h3>
    <br>
    <p>Lo primero es instalar el paquete SSH, que a su vez contiene el paquete de <code>OpenSSH Client</code> y <code>OpenSSH Server</code>, para ello ejecutamos
    el siguiente comando en la consola:</p>
      <h5 align="center"><kbd><code>sudo apt-get install ssh</code></kbd></h5>
    <br>
    <p>Lo mismo para <code>nmap</code>, una herramienta útil para escanear nuestros puertos y saber si están abiertos o cerrados.</p>
      <h5 align="center"><kbd><code>sudo apt-get install nmap</code></kbd></h5>
    <br>
    <p>Y para finalizar instalamos <code>net-tools</code>, una herramienta útil para conocer nuestra dirección ip entre otras cosas.</p>
      <h5 align="center"><kbd><code>sudo apt-get install net-tools</code></kbd></h5>
    <br>
    <p>Y ya estamos listos, el puerto SSH debería estar abierto de forma local, lo puedes comprobar utilizando <code>nmap</code>, comunmente es el puerto 22. 
      Si quieres abrirlo de forma pública puedes abrir los puertos en tu router y redirigirlos a tu servidor, pero esto varía 
      dependiendo del router que tengas.</p>
      <p>Para conocer tu ip local y conectar otro pc a tu ordenador solo basta que utilices el 
      comando <code>ifconfig</code>.</p>
    <p>Ahora debemos dejarlo todo bien configurado y entender algunas formas de configurar nuestro servidor.</p>
    <br id="cnfig">
    <hr>
    <br>
    <h3 class="alert-warning">Configurar SSH</h3>
    <br>
    <p>Tenemos que modificar algunas cosas antes para que nuestro servidor sea más seguro. Para eso tenemos que entrar en el archivo donde estan
      guardadas las confirguraciones.</p>
      <h5 align="center"><kbd><code>sudo gedit /etc/ssh/sshd_config</code></kbd></h5>
      <br>
    <p>Es aconsejable cambiar el puerto para mayor seguridad de nuestro servidor, ya que hay diversos scripts que atacan el puerto 22 de forma directa.</p>
    <h5 align="center"><kbd><code>Port [Ingresar Puerto]</code></kbd></h5>
    <br>
    <p>Utilizar el protocolo 2 en SSH para una mayor seguridad (el protocolo 1 es más vulnerable).</p>
    <h5 align="center"><kbd><code>Protocol 2</code></kbd></h5>
    <br>
    <p>Se recomienda quitar el uso del root por SSH, debido al peligro que puede ser que encuentren la contraseña y logren ingresar como él.</p>
    <h5 align="center"><kbd><code>PermitRootLogin no</code></kbd></h5>
    <br>
    <p>Para aceptar o denegar ciertos usuarios</p>
    <h5 align="center"><kbd><code>AllowUsers [cuentas]@[ip]</code></kbd></h5>
    <br>
    <p>Por último, para reducir en número de intentos posibles.</p>
    <h5 align="center"><kbd><code>MaxAuthTries [Numero]</code></kbd></h5>
    <br>
    <br>

  </div>
  </div>
  </div>
  <br>


      <div class="container">
      <div class="col-sm-12 parrafos intermedio">
      <br>
      <h3 class="text-center" id="grep"><strong>Configuración servidor</strong></h3>
      <br>
      <br>
      <div class="margen">
          <span><dt>Usuarios y grupos</dt></span>
          <p>
              En tu servidor requerirás hacer usuarios, puedes utilizar, todos los usuarios se guardarán en /etc/shadow o bien en /etc/passwd.
              Similar a lo anterior, para ver los grupos que existen en tu servidor pueder revisar en /etc/group o bien en /etc/gshadow.
          </p>
          <p>Todos los comandos de acá abajo te serán útiles para gestionar tus usuarios, puedes dirigirte a nuestro glosario para revisar su sintaxis. </p>
          <p>Si requieres cambiar contraseñas, necesitas utilizar passwd  </p>
          <p>Para cambiar el nombre de algun usuario, requieres el comando usermod </p>
          <p>Para eliminar un usuario, requieres el comando userdel </p>
          <p>puede agregar grupos con el comando groupadd</p>
          <p>Para cambiar el nombre de un grupo utilizaremos groupmod </p>
          <p>Para eliminar un grupo usaremos groupdel </p>
          <hr>
          <br>
          <span><dt>Permisos</dt></span>
          <p>
              Para la seguridad de tus archivos, es imprescindible tener un control de quienes pueden acceder a ellos y del como pueden usarlo,
              por ello linux tiene una estructura para sus permisos que te explicaremos aquí.
              Los archivos pueden tener 3 permisos primarios:
          </p>
          <ul>
              <li><kbd>Escritura(w) [2]</kbd> : El usuario con este permiso puede modificar el fichero</li>
              <li><kbd>Lectura(r) [4]</kbd> : El usuario con este permiso puede leer el fichero</li>
              <li><kbd>Ejecucion(e) [1]</kbd> : El usuario con este permiso puede ejecutar el fichero</li>
          </ul>
          <p>Para otorgarlos se utiliza comunmente chmod, un comando utilizado para cambiar los permisos de los usuarios (mas información en el glosario) </p>
          <p>Tambien es importante destacar los comando chown y chgr: </p>
          <p>
              Chown es el equivalente cambiar el propietario de un archivo, mientras que chgr sirve para cambiar el grupo propietario del archivo,
              ambos tendran una alta importancia al momento de usar chmod
          </p>
          <p>Tambien, existen permisos especiales colocables con chmod: </p>
          <ul>
              <li><kbd>Sticky bit</kbd> :  El root puede modificar y borrar los archivos en el directorio con sticky bit, mientras que los demás usuarios solo pueden leer y modificar </li>
              <li><kbd>SUID</kbd> : El usuario que utilice el archivo con SUID tendra los mismos permisos que el propietario de este</li>
              <li><kbd>SGID</kbd> : El usuario que utilice el archivo con SUID tendra los mismos permisos que el grupo propietario de este </li>
          </ul>
          <p>Estos permisos especiales se pueden colocar con modificadores de chmod</p>
          <br id="strings">
          <br>

      </div>
        </div>
      </div>



<br>
<!--Footer-->
<footer class="page-footer font-small blue pt-3" style="background-color:rgb(0, 0, 0);">
    <div class="container">
      <p>
        <img class="iconos" src="img/Logo_UTFSM.png" align="left" style="width:80px"> <!--Logo universidad-->
        © 2020 Copyright: PaKeDi
        <img class="iconos" src="img/logo_pakedi_led4.png" align="right"  style="width:80px"> <!--Logo PaKeDi-->
      </p>
    </div>
</footer>
</div>
</div>
</body>


<script src="js/jquery-3.4.1.slim.min.js"></script>
<script src="js/popper.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/bootstrap.bundle.min.js"></script>
<script src="https://kit.fontawesome.com/2224b72383.js" crossorigin="anonymous"></script>
<!-- Menu Toggle Script -->

<script>
$("#menu-toggle").click(function (e) {
  e.preventDefault();
  $("#wrapper").toggleClass("toggled");
});
</script>

</html>
